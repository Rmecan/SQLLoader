SET HEADING OFF;
SET NEWPAGE NONE;
SET FEEDBACK OFF;
SET PAGESIZE 0;
SET VERIFY OFF;
SET TAB OFF;
SET TRIMSPOOL ON;
SET LINESIZE 32767;
WHENEVER SQLERROR EXIT FAILURE ROLLBACK;

-- 固定値
SELECT 'SET HEADING OFF;' FROM dual;
SELECT 'SET NEWPAGE NONE;' FROM dual;
SELECT 'SET HEADING OFF;' FROM dual;
SELECT 'SET FEEDBACK OFF;' FROM dual;
SELECT 'SET PAGESIZE 0;' FROM dual;
SELECT 'SET VERIFY OFF;' FROM dual;
SELECT 'SET TAB OFF;' FROM dual;
SELECT 'SET TRIMSPOOL ON;' FROM dual;
SELECT 'SET LINESIZE 32767;' FROM dual;
SELECT 'WHENEVER SQLERROR EXIT FAILURE ROLLBACK;' FROM dual;
-- 不可変部分(テーブル名を列挙)
SELECT 'SELECT ''' || table_name ||'	'' || COUNT(1) || ''件'' FROM ' || table_name || ';' FROM user_tables ORDER BY 1;
-- 固定値
SELECT 'EXIT;' FROM DUAL;

EXIT;
